# ============================================================================
# ClutchPay Backend Environment Configuration
# ============================================================================
# Copy this file to .env and configure with your actual values
# DO NOT commit the .env file to version control

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# PostgreSQL database credentials
POSTGRES_DB=clutchpay_db
POSTGRES_USER=clutchpay_user
POSTGRES_PASSWORD=clutchpay_pass

# Database connection strings
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL="postgresql://clutchpay_user:clutchpay_pass@localhost:5432/clutchpay_db?schema=public"

# Test database (can be the same as DATABASE_URL for local development)
TEST_DATABASE_URL="postgresql://clutchpay_user:clutchpay_pass@localhost:5432/clutchpay_db"

# ============================================================================
# NEXTAUTH CONFIGURATION
# ============================================================================
# Base URL of your application
NEXTAUTH_URL=http://localhost:3000

# Secret for signing JWTs (REQUIRED in production)
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=your-nextauth-secret-here-change-in-production

# Enable debug logging (set to false in production)
NEXTAUTH_DEBUG=true

# ============================================================================
# JWT CONFIGURATION
# ============================================================================
# Secret for JWT token signing (REQUIRED)
# Generate with: openssl rand -base64 32
JWT_SECRET=your-jwt-secret-here-change-in-production

# ============================================================================
# FRONTEND/PUBLIC CONFIGURATION
# ============================================================================
# Frontend application URL (for CORS, redirects and email links)
FRONTEND_URL=http://localhost:80

# Backend API URL (exposed to frontend)
NEXT_PUBLIC_API_URL=http://localhost:3000

# ============================================================================
# CLOUDINARY CONFIGURATION (File Storage)
# ============================================================================
# Get credentials from: https://console.cloudinary.com/settings
NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME=your-cloud-name
NEXT_PUBLIC_CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret

# Optional: Enable Cloudinary integration testing
# RUN_CLOUDINARY_INTEGRATION=true

# ============================================================================
# STRIPE CONFIGURATION (Payment Processing)
# ============================================================================
# Stripe secret key for API requests
# Get from: https://dashboard.stripe.com/apikeys
# Use sk_test_* for testing, sk_live_* for production
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key

# Webhook secret for verifying webhook signatures
# Get after creating webhook endpoint in Stripe Dashboard
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Default currency for payments (ISO 4217 currency code)
STRIPE_CURRENCY=eur  # usd, eur, gbp, etc.

# ============================================================================
# PAYPAL CONFIGURATION (Issuer Payouts)
# ============================================================================
# Get credentials from: https://developer.paypal.com/dashboard
PAYPAL_CLIENT_ID=your-paypal-client-id
PAYPAL_CLIENT_SECRET=your-paypal-client-secret

# Mode: "sandbox" for testing, "live" for production
PAYPAL_MODE=sandbox

# ============================================================================
# RESEND CONFIGURATION (Email Service)
# ============================================================================
# Resend API key for sending emails
# Get from: https://resend.com/api-keys
RESEND_API_KEY=re_your_resend_api_key

# From email address (must be verified in Resend dashboard)
RESEND_FROM_EMAIL=ClutchPay <noreply@clutchpay.com>

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
# Port for the backend server
PORT=3000
BACKEND_PORT=3000

# Port for the frontend (used for CORS configuration)
FRONTEND_PORT=80

# Server IP address (for CORS configuration)
SERVER_IP=localhost

# Node environment (development, production, test)
NODE_ENV=development

# ============================================================================
# CRON JOB SECURITY
# ============================================================================
# Secret key to protect cron endpoints in production
# Generate with: openssl rand -base64 32
CRON_SECRET=your-cron-secret-key-here-change-in-production

# ============================================================================
# INTEGRATION TESTS CONFIGURATION (Optional)
# ============================================================================
# Enable integration tests for external services
# WARNING: This will make real API calls to configured services
# Set to 'true' to run integration tests, comment out or set to 'false' to skip
# RUN_INTEGRATION_TESTS=false

# Optional: Email recipient for Resend integration tests
# TEST_EMAIL_RECIPIENT=your-test-email@example.com

# ============================================================================
# LOGGING CONFIGURATION (Optional)
# ============================================================================
# Log level: DEBUG, INFO, WARN, ERROR
# LOG_LEVEL=INFO

# ============================================================================
# NOTES
# ============================================================================
# 1. All secrets (NEXTAUTH_SECRET, JWT_SECRET, CRON_SECRET, API keys) 
#    MUST be changed in production environments
# 2. Use strong, randomly generated secrets (minimum 32 characters)
# 3. Never commit the .env file to version control
# 4. Verify all URLs match your deployment environment
# 5. Test webhook endpoints in development before deploying to production
# 6. Ensure all required services (Stripe, PayPal, Resend, Cloudinary) 
#    are properly configured before running in production
